{"version":3,"sources":["dom.js"],"names":["window","dom","create","string","container","document","createElement","innerHTML","trim","content","firstChild","after","node","node2","parentNode","insertBefore","nextSibling","before","append","parent","appendChild","wrap","remove","removeChild","empty","children","childNodes","array","x","push","attr","name","value","arguments","length","setAttribute","getAttribute","text","innerText","textContent","html","style","Object","object","key","class","add","className","classList","has","contains","on","eventName","fn","addEventListener","off","removeEventListener","find","selector","scope","querySelectorAll","siblings","Array","from","filter","item","next","nodeType","previous","previousSibling","each","nodeList","i","index"],"mappings":"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","file":"dom.1d0b6d56.js","sourceRoot":"..\\src","sourcesContent":["window.dom = {};\r\n\r\ndom.create = function(string) {\r\n  const container = document.createElement(\"template\");\r\n  container.innerHTML = string.trim();\r\n  return container.content.firstChild;\r\n};\r\ndom.after = function(node, node2) {\r\n  //新增弟弟，把新增的节点node2放在node的下一个节点的前面\r\n  node.parentNode.insertBefore(node2, node.nextSibling);\r\n};\r\ndom.before = function(node, node2) {\r\n  //新增哥哥\r\n  node.parentNode.insertBefore(node2, node);\r\n};\r\ndom.append = function(parent, node) {\r\n  //新增儿子\r\n  parent.appendChild(node);\r\n};\r\ndom.wrap = function(node, parent) {\r\n  //新增爸爸\r\n  dom.before(node, parent);\r\n  dom.append(parent, node);\r\n};\r\ndom.remove = function(node) {\r\n  //删除节点\r\n  node.parentNode.removeChild(node);\r\n  return node; //可能还需要被删节点的引用，所以返回被删节点\r\n};\r\ndom.empty = function(node) {\r\n  //每次删除一个节点，数组的长度都会实时变化的\r\n  const children = node.childNodes;\r\n  const array = [];\r\n  let x = 0;\r\n  while (children[x]) {\r\n    //console.log(children[x]);\r\n    array.push(children[x]);\r\n    dom.remove(children[x]);\r\n  }\r\n  return array; //返回被删的所有子节点，原因同上\r\n};\r\ndom.attr = function(node, name, value) {\r\n  //读\\写属性  用到了重载\r\n  if (arguments.length === 3) {\r\n    node.setAttribute(name, value);\r\n  } else if (arguments.length === 2) {\r\n    return node.getAttribute(name);\r\n  }\r\n};\r\ndom.text = function(node, string) {\r\n  //用于读写文本内容，这里用到了适配和重载\r\n  if (arguments.length === 2) {\r\n    if (\"innerText\" in node) {\r\n      node.innerText = string;\r\n    } else {\r\n      node.textContent = string;\r\n    }\r\n  } else if (arguments.length === 1) {\r\n    if (\"innerText\" in node) {\r\n      return node.innerText;\r\n    } else {\r\n      return node.textContent;\r\n    }\r\n  }\r\n};\r\ndom.html = function(node, string) {\r\n  //读写html内容\r\n  if (arguments.length === 2) {\r\n    node.innerHTML = string;\r\n  } else if (arguments.length === 1) {\r\n    return node.innerHTML;\r\n  }\r\n};\r\ndom.style = function(node, name, value) {\r\n  //用于修改style,三个参数时是写属性，两个参数时可能是读，也可能是写\r\n  if (arguments.length === 3) {\r\n    //dom.style(div,'color','red')\r\n    node.style[name] = value;\r\n  } else if (arguments.length === 2) {\r\n    if (typeof name === \"string\") {\r\n      //dom.style(div,'border')\r\n      return node.style[name];\r\n    } else if (name instanceof Object) {\r\n      //dom.style(div,{border:'1px solid red'})\r\n      const object = name;\r\n      for (let key in object) {\r\n        node.style[key] = object[key];\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\ndom.class = {\r\n  //class的添加、删除、判断是否存在\r\n  add(node, className) {\r\n    node.classList.add(className);\r\n  },\r\n  remove(node, className) {\r\n    node.classList.remove(className);\r\n  },\r\n  has(node, className) {\r\n    return node.classList.contains(className);\r\n  }\r\n};\r\ndom.on = function(node, eventName, fn) {\r\n  //添加事件监听\r\n  node.addEventListener(eventName, fn);\r\n};\r\ndom.off = function(node, eventName, fn) {\r\n  //删除事件监听\r\n  node.removeEventListener(eventName, fn);\r\n};\r\ndom.find = function(selector, scope) {\r\n  //获取标签 或 标签们\r\n  return (scope || document).querySelectorAll(selector);\r\n};\r\ndom.parent = function(node) {\r\n  //获取父元素\r\n  return node.parentNode;\r\n};\r\ndom.children = function(node) {\r\n  //获取子元素\r\n  return node.children;\r\n};\r\ndom.siblings = function(node) {\r\n  //获取兄弟元素(除了自己)\r\n  return Array.from(node.parentNode.children).filter(item => item !== node);\r\n};\r\ndom.next = function(node) {\r\n  //获取弟弟，不能直接返回，因为下一个节点可能是文本节点\r\n  let x = node.nextSibling;\r\n  while (x && x.nodeType === 3) {\r\n    x = x.nextSibling;\r\n  }\r\n  return x;\r\n};\r\ndom.previous = function(node) {\r\n  //获取哥哥\r\n  let x = node.previousSibling;\r\n  while (x && x.nodeType === 3) {\r\n    x = node.previousSibling;\r\n  }\r\n  return x;\r\n};\r\ndom.each = function(nodeList, fn) {\r\n  //遍历所有节点\r\n  for (let i = 0; i < nodeList.length; i++) {\r\n    fn(nodeList[i]);\r\n  }\r\n};\r\ndom.index = function(node) {\r\n  //查看该节点排行老几\r\n  const array = Array.from(dom.children(node.parentNode));\r\n  let x = 0;\r\n  for (let i = 0; i < array.length; i++) {\r\n    if (array[i] === node) {\r\n      x = i;\r\n    }\r\n  }\r\n  return x + 1;\r\n};\r\n\r\ndom.find = function(selector, scope) {\r\n  return (scope || document).querySelectorAll(selector);\r\n};\r\n"]}